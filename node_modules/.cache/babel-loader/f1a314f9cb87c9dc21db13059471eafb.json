{"ast":null,"code":"import \"core-js/modules/web.timers.js\";\nimport _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\n/**\n * Since search box is in different position with different mode.\n * - Single: in the popup box\n * - multiple: in the selector\n * Move the code as a SearchInput for easy management.\n */\n\nimport PropTypes from '../../_util/vue-types';\nimport { createRef } from './util';\nvar SearchInput = {\n  name: 'SearchInput',\n  props: {\n    open: PropTypes.bool,\n    searchValue: PropTypes.string,\n    prefixCls: PropTypes.string,\n    disabled: PropTypes.bool,\n    renderPlaceholder: PropTypes.func,\n    needAlign: PropTypes.bool,\n    ariaId: PropTypes.string\n  },\n  inject: {\n    vcTreeSelect: {\n      'default': function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      mirrorSearchValue: this.searchValue\n    };\n  },\n  watch: {\n    searchValue: function searchValue(val) {\n      this.mirrorSearchValue = val;\n    }\n  },\n  created: function created() {\n    this.inputRef = createRef();\n    this.mirrorInputRef = createRef();\n    this.prevProps = _extends({}, this.$props);\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      var _$props = _this.$props,\n          open = _$props.open,\n          needAlign = _$props.needAlign;\n\n      if (needAlign) {\n        _this.alignInputWidth();\n      }\n\n      if (open) {\n        _this.focus(true);\n      }\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    var _$props2 = this.$props,\n        open = _$props2.open,\n        searchValue = _$props2.searchValue,\n        needAlign = _$props2.needAlign;\n    var prevProps = this.prevProps;\n    this.$nextTick(function () {\n      if (open && prevProps.open !== open) {\n        _this2.focus();\n      }\n\n      if (needAlign && searchValue !== prevProps.searchValue) {\n        _this2.alignInputWidth();\n      }\n\n      _this2.prevProps = _extends({}, _this2.$props);\n    });\n  },\n  methods: {\n    /**\n     * `scrollWidth` is not correct in IE, do the workaround.\n     * ref: https://github.com/react-component/tree-select/issues/65\n     *  clientWidth 0 when mounted in vue. why?\n     */\n    alignInputWidth: function alignInputWidth() {\n      this.inputRef.current.style.width = (this.mirrorInputRef.current.clientWidth || this.mirrorInputRef.current.offsetWidth) + 'px';\n    },\n\n    /**\n     * Need additional timeout for focus cause parent dom is not ready when didMount trigger\n     */\n    focus: function focus(isDidMount) {\n      var _this3 = this;\n\n      if (this.inputRef.current) {\n        if (isDidMount) {\n          setTimeout(function () {\n            _this3.inputRef.current.focus();\n          }, 0);\n        } else {\n          // set it into else, Avoid scrolling when focus\n          this.inputRef.current.focus();\n        }\n      }\n    },\n    blur: function blur() {\n      if (this.inputRef.current) {\n        this.inputRef.current.blur();\n      }\n    },\n    handleInputChange: function handleInputChange(e) {\n      var _e$target = e.target,\n          value = _e$target.value,\n          composing = _e$target.composing;\n      var _searchValue = this.searchValue,\n          searchValue = _searchValue === undefined ? '' : _searchValue;\n\n      if (e.isComposing || composing || searchValue === value) {\n        this.mirrorSearchValue = value;\n        return;\n      }\n\n      this.vcTreeSelect.onSearchInputChange(e);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _$props3 = this.$props,\n        searchValue = _$props3.searchValue,\n        prefixCls = _$props3.prefixCls,\n        disabled = _$props3.disabled,\n        renderPlaceholder = _$props3.renderPlaceholder,\n        open = _$props3.open,\n        ariaId = _$props3.ariaId;\n    var onSearchInputKeyDown = this.vcTreeSelect.onSearchInputKeyDown,\n        handleInputChange = this.handleInputChange,\n        mirrorSearchValue = this.mirrorSearchValue;\n    return h('span', {\n      'class': prefixCls + '-search__field__wrap'\n    }, [h('input', _mergeJSXProps([{\n      attrs: {\n        type: 'text'\n      }\n    }, {\n      directives: [{\n        name: 'ant-ref',\n        value: this.inputRef\n      }, {\n        name: 'ant-input'\n      }]\n    }, {\n      on: {\n        'input': handleInputChange,\n        'keydown': onSearchInputKeyDown\n      },\n      domProps: {\n        'value': searchValue\n      },\n      attrs: {\n        disabled: disabled,\n        'aria-label': 'filter select',\n        'aria-autocomplete': 'list',\n        'aria-controls': open ? ariaId : undefined,\n        'aria-multiline': 'false'\n      },\n      'class': prefixCls + '-search__field'\n    }])), h('span', _mergeJSXProps([{\n      directives: [{\n        name: 'ant-ref',\n        value: this.mirrorInputRef\n      }]\n    }, {\n      'class': prefixCls + '-search__field__mirror'\n    }]), [mirrorSearchValue, '\\xA0']), renderPlaceholder && !mirrorSearchValue ? renderPlaceholder() : null]);\n  }\n};\nexport default SearchInput;","map":{"version":3,"names":["_mergeJSXProps","_extends","PropTypes","createRef","SearchInput","name","props","open","bool","searchValue","string","prefixCls","disabled","renderPlaceholder","func","needAlign","ariaId","inject","vcTreeSelect","_default","data","mirrorSearchValue","watch","val","created","inputRef","mirrorInputRef","prevProps","$props","mounted","_this","$nextTick","_$props","alignInputWidth","focus","updated","_this2","_$props2","methods","current","style","width","clientWidth","offsetWidth","isDidMount","_this3","setTimeout","blur","handleInputChange","e","_e$target","target","value","composing","_searchValue","undefined","isComposing","onSearchInputChange","render","h","arguments","_$props3","onSearchInputKeyDown","attrs","type","directives","on","domProps"],"sources":["/Users/andreidev/domains/hakaton_cskz_front/node_modules/ant-design-vue/es/vc-tree-select/src/SearchInput.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\n/**\n * Since search box is in different position with different mode.\n * - Single: in the popup box\n * - multiple: in the selector\n * Move the code as a SearchInput for easy management.\n */\n\nimport PropTypes from '../../_util/vue-types';\nimport { createRef } from './util';\n\nvar SearchInput = {\n  name: 'SearchInput',\n  props: {\n    open: PropTypes.bool,\n    searchValue: PropTypes.string,\n    prefixCls: PropTypes.string,\n    disabled: PropTypes.bool,\n    renderPlaceholder: PropTypes.func,\n    needAlign: PropTypes.bool,\n    ariaId: PropTypes.string\n  },\n  inject: {\n    vcTreeSelect: { 'default': function _default() {\n        return {};\n      } }\n  },\n  data: function data() {\n    return {\n      mirrorSearchValue: this.searchValue\n    };\n  },\n\n  watch: {\n    searchValue: function searchValue(val) {\n      this.mirrorSearchValue = val;\n    }\n  },\n  created: function created() {\n    this.inputRef = createRef();\n    this.mirrorInputRef = createRef();\n    this.prevProps = _extends({}, this.$props);\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      var _$props = _this.$props,\n          open = _$props.open,\n          needAlign = _$props.needAlign;\n\n      if (needAlign) {\n        _this.alignInputWidth();\n      }\n\n      if (open) {\n        _this.focus(true);\n      }\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    var _$props2 = this.$props,\n        open = _$props2.open,\n        searchValue = _$props2.searchValue,\n        needAlign = _$props2.needAlign;\n    var prevProps = this.prevProps;\n\n    this.$nextTick(function () {\n      if (open && prevProps.open !== open) {\n        _this2.focus();\n      }\n      if (needAlign && searchValue !== prevProps.searchValue) {\n        _this2.alignInputWidth();\n      }\n      _this2.prevProps = _extends({}, _this2.$props);\n    });\n  },\n\n  methods: {\n    /**\n     * `scrollWidth` is not correct in IE, do the workaround.\n     * ref: https://github.com/react-component/tree-select/issues/65\n     *  clientWidth 0 when mounted in vue. why?\n     */\n    alignInputWidth: function alignInputWidth() {\n      this.inputRef.current.style.width = (this.mirrorInputRef.current.clientWidth || this.mirrorInputRef.current.offsetWidth) + 'px';\n    },\n\n\n    /**\n     * Need additional timeout for focus cause parent dom is not ready when didMount trigger\n     */\n    focus: function focus(isDidMount) {\n      var _this3 = this;\n\n      if (this.inputRef.current) {\n        if (isDidMount) {\n          setTimeout(function () {\n            _this3.inputRef.current.focus();\n          }, 0);\n        } else {\n          // set it into else, Avoid scrolling when focus\n          this.inputRef.current.focus();\n        }\n      }\n    },\n    blur: function blur() {\n      if (this.inputRef.current) {\n        this.inputRef.current.blur();\n      }\n    },\n    handleInputChange: function handleInputChange(e) {\n      var _e$target = e.target,\n          value = _e$target.value,\n          composing = _e$target.composing;\n      var _searchValue = this.searchValue,\n          searchValue = _searchValue === undefined ? '' : _searchValue;\n\n      if (e.isComposing || composing || searchValue === value) {\n        this.mirrorSearchValue = value;\n        return;\n      }\n      this.vcTreeSelect.onSearchInputChange(e);\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var _$props3 = this.$props,\n        searchValue = _$props3.searchValue,\n        prefixCls = _$props3.prefixCls,\n        disabled = _$props3.disabled,\n        renderPlaceholder = _$props3.renderPlaceholder,\n        open = _$props3.open,\n        ariaId = _$props3.ariaId;\n    var onSearchInputKeyDown = this.vcTreeSelect.onSearchInputKeyDown,\n        handleInputChange = this.handleInputChange,\n        mirrorSearchValue = this.mirrorSearchValue;\n\n    return h(\n      'span',\n      { 'class': prefixCls + '-search__field__wrap' },\n      [h('input', _mergeJSXProps([{\n        attrs: {\n          type: 'text'\n        }\n      }, {\n        directives: [{\n          name: 'ant-ref',\n          value: this.inputRef\n        }, {\n          name: 'ant-input'\n        }]\n      }, {\n        on: {\n          'input': handleInputChange,\n          'keydown': onSearchInputKeyDown\n        },\n        domProps: {\n          'value': searchValue\n        },\n        attrs: {\n          disabled: disabled,\n\n          'aria-label': 'filter select',\n          'aria-autocomplete': 'list',\n          'aria-controls': open ? ariaId : undefined,\n          'aria-multiline': 'false'\n        },\n        'class': prefixCls + '-search__field' }])), h(\n        'span',\n        _mergeJSXProps([{\n          directives: [{\n            name: 'ant-ref',\n            value: this.mirrorInputRef\n          }]\n        }, {\n          'class': prefixCls + '-search__field__mirror'\n        }]),\n        [mirrorSearchValue, '\\xA0']\n      ), renderPlaceholder && !mirrorSearchValue ? renderPlaceholder() : null]\n    );\n  }\n};\n\nexport default SearchInput;"],"mappings":"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"},"metadata":{},"sourceType":"module"}