{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport PropTypes from '../_util/vue-types';\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport { isWindow, buffer, isSamePoint, isSimilarValue, restoreFocus } from './util';\nimport { cloneElement } from '../_util/vnode.js';\nimport clonedeep from 'lodash/cloneDeep';\nimport { getSlot, getListeners } from '../_util/props-util';\n\nfunction getElement(func) {\n  if (typeof func !== 'function' || !func) return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if ((typeof point === 'undefined' ? 'undefined' : _typeof(point)) !== 'object' || !point) return null;\n  return point;\n}\n\nexport default {\n  props: {\n    childrenProps: PropTypes.object,\n    align: PropTypes.object.isRequired,\n    target: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).def(function () {\n      return window;\n    }),\n    monitorBufferTime: PropTypes.number.def(50),\n    monitorWindowResize: PropTypes.bool.def(false),\n    disabled: PropTypes.bool.def(false)\n  },\n  data: function data() {\n    this.aligned = false;\n    return {};\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.prevProps = _extends({}, _this.$props);\n      var props = _this.$props; // if parent ref not attached .... use document.getElementById\n\n      !_this.aligned && _this.forceAlign();\n\n      if (!props.disabled && props.monitorWindowResize) {\n        _this.startMonitorWindowResize();\n      }\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      var prevProps = _this2.prevProps;\n      var props = _this2.$props;\n      var reAlign = false;\n\n      if (!props.disabled) {\n        var source = _this2.$el;\n        var sourceRect = source ? source.getBoundingClientRect() : null;\n\n        if (prevProps.disabled) {\n          reAlign = true;\n        } else {\n          var lastElement = getElement(prevProps.target);\n          var currentElement = getElement(props.target);\n          var lastPoint = getPoint(prevProps.target);\n          var currentPoint = getPoint(props.target);\n\n          if (isWindow(lastElement) && isWindow(currentElement)) {\n            // Skip if is window\n            reAlign = false;\n          } else if (lastElement !== currentElement || // Element change\n          lastElement && !currentElement && currentPoint || // Change from element to point\n          lastPoint && currentPoint && currentElement || // Change from point to element\n          currentPoint && !isSamePoint(lastPoint, currentPoint)) {\n            reAlign = true;\n          } // If source element size changed\n\n\n          var preRect = _this2.sourceRect || {};\n\n          if (!reAlign && source && (!isSimilarValue(preRect.width, sourceRect.width) || !isSimilarValue(preRect.height, sourceRect.height))) {\n            reAlign = true;\n          }\n        }\n\n        _this2.sourceRect = sourceRect;\n      }\n\n      if (reAlign) {\n        _this2.forceAlign();\n      }\n\n      if (props.monitorWindowResize && !props.disabled) {\n        _this2.startMonitorWindowResize();\n      } else {\n        _this2.stopMonitorWindowResize();\n      }\n\n      _this2.prevProps = _extends({}, _this2.$props, {\n        align: clonedeep(_this2.$props.align)\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.stopMonitorWindowResize();\n  },\n  methods: {\n    startMonitorWindowResize: function startMonitorWindowResize() {\n      if (!this.resizeHandler) {\n        this.bufferMonitor = buffer(this.forceAlign, this.$props.monitorBufferTime);\n        this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n      }\n    },\n    stopMonitorWindowResize: function stopMonitorWindowResize() {\n      if (this.resizeHandler) {\n        this.bufferMonitor.clear();\n        this.resizeHandler.remove();\n        this.resizeHandler = null;\n      }\n    },\n    forceAlign: function forceAlign() {\n      var _$props = this.$props,\n          disabled = _$props.disabled,\n          target = _$props.target,\n          align = _$props.align;\n\n      if (!disabled && target) {\n        var source = this.$el;\n        var listeners = getListeners(this);\n        var result = void 0;\n        var element = getElement(target);\n        var point = getPoint(target); // IE lose focus after element realign\n        // We should record activeElement and restore later\n\n        var activeElement = document.activeElement;\n\n        if (element) {\n          result = alignElement(source, element, align);\n        } else if (point) {\n          result = alignPoint(source, point, align);\n        }\n\n        restoreFocus(activeElement, source);\n        this.aligned = true;\n        listeners.align && listeners.align(source, result);\n      }\n    }\n  },\n  render: function render() {\n    var childrenProps = this.$props.childrenProps;\n    var child = getSlot(this)[0];\n\n    if (child && childrenProps) {\n      return cloneElement(child, {\n        props: childrenProps\n      });\n    }\n\n    return child;\n  }\n};","map":{"version":3,"names":["_extends","_typeof","PropTypes","alignElement","alignPoint","addEventListener","isWindow","buffer","isSamePoint","isSimilarValue","restoreFocus","cloneElement","clonedeep","getSlot","getListeners","getElement","func","getPoint","point","props","childrenProps","object","align","isRequired","target","oneOfType","def","window","monitorBufferTime","number","monitorWindowResize","bool","disabled","data","aligned","mounted","_this","$nextTick","prevProps","$props","forceAlign","startMonitorWindowResize","updated","_this2","reAlign","source","$el","sourceRect","getBoundingClientRect","lastElement","currentElement","lastPoint","currentPoint","preRect","width","height","stopMonitorWindowResize","beforeDestroy","methods","resizeHandler","bufferMonitor","clear","remove","_$props","listeners","result","element","activeElement","document","render","child"],"sources":["/Users/andreidev/domains/hakaton_cskz_front/node_modules/ant-design-vue/es/vc-align/Align.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport PropTypes from '../_util/vue-types';\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport { isWindow, buffer, isSamePoint, isSimilarValue, restoreFocus } from './util';\nimport { cloneElement } from '../_util/vnode.js';\nimport clonedeep from 'lodash/cloneDeep';\nimport { getSlot, getListeners } from '../_util/props-util';\n\nfunction getElement(func) {\n  if (typeof func !== 'function' || !func) return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if ((typeof point === 'undefined' ? 'undefined' : _typeof(point)) !== 'object' || !point) return null;\n  return point;\n}\n\nexport default {\n  props: {\n    childrenProps: PropTypes.object,\n    align: PropTypes.object.isRequired,\n    target: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).def(function () {\n      return window;\n    }),\n    monitorBufferTime: PropTypes.number.def(50),\n    monitorWindowResize: PropTypes.bool.def(false),\n    disabled: PropTypes.bool.def(false)\n  },\n  data: function data() {\n    this.aligned = false;\n    return {};\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.prevProps = _extends({}, _this.$props);\n      var props = _this.$props;\n      // if parent ref not attached .... use document.getElementById\n      !_this.aligned && _this.forceAlign();\n      if (!props.disabled && props.monitorWindowResize) {\n        _this.startMonitorWindowResize();\n      }\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      var prevProps = _this2.prevProps;\n      var props = _this2.$props;\n      var reAlign = false;\n      if (!props.disabled) {\n        var source = _this2.$el;\n        var sourceRect = source ? source.getBoundingClientRect() : null;\n\n        if (prevProps.disabled) {\n          reAlign = true;\n        } else {\n          var lastElement = getElement(prevProps.target);\n          var currentElement = getElement(props.target);\n          var lastPoint = getPoint(prevProps.target);\n          var currentPoint = getPoint(props.target);\n          if (isWindow(lastElement) && isWindow(currentElement)) {\n            // Skip if is window\n            reAlign = false;\n          } else if (lastElement !== currentElement || // Element change\n          lastElement && !currentElement && currentPoint || // Change from element to point\n          lastPoint && currentPoint && currentElement || // Change from point to element\n          currentPoint && !isSamePoint(lastPoint, currentPoint)) {\n            reAlign = true;\n          }\n\n          // If source element size changed\n          var preRect = _this2.sourceRect || {};\n          if (!reAlign && source && (!isSimilarValue(preRect.width, sourceRect.width) || !isSimilarValue(preRect.height, sourceRect.height))) {\n            reAlign = true;\n          }\n        }\n        _this2.sourceRect = sourceRect;\n      }\n\n      if (reAlign) {\n        _this2.forceAlign();\n      }\n\n      if (props.monitorWindowResize && !props.disabled) {\n        _this2.startMonitorWindowResize();\n      } else {\n        _this2.stopMonitorWindowResize();\n      }\n      _this2.prevProps = _extends({}, _this2.$props, { align: clonedeep(_this2.$props.align) });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.stopMonitorWindowResize();\n  },\n\n  methods: {\n    startMonitorWindowResize: function startMonitorWindowResize() {\n      if (!this.resizeHandler) {\n        this.bufferMonitor = buffer(this.forceAlign, this.$props.monitorBufferTime);\n        this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n      }\n    },\n    stopMonitorWindowResize: function stopMonitorWindowResize() {\n      if (this.resizeHandler) {\n        this.bufferMonitor.clear();\n        this.resizeHandler.remove();\n        this.resizeHandler = null;\n      }\n    },\n    forceAlign: function forceAlign() {\n      var _$props = this.$props,\n          disabled = _$props.disabled,\n          target = _$props.target,\n          align = _$props.align;\n\n      if (!disabled && target) {\n        var source = this.$el;\n        var listeners = getListeners(this);\n        var result = void 0;\n        var element = getElement(target);\n        var point = getPoint(target);\n\n        // IE lose focus after element realign\n        // We should record activeElement and restore later\n        var activeElement = document.activeElement;\n\n        if (element) {\n          result = alignElement(source, element, align);\n        } else if (point) {\n          result = alignPoint(source, point, align);\n        }\n        restoreFocus(activeElement, source);\n        this.aligned = true;\n        listeners.align && listeners.align(source, result);\n      }\n    }\n  },\n\n  render: function render() {\n    var childrenProps = this.$props.childrenProps;\n\n    var child = getSlot(this)[0];\n    if (child && childrenProps) {\n      return cloneElement(child, { props: childrenProps });\n    }\n    return child;\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}