{"ast":null,"code":"import \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport _extends from 'babel-runtime/helpers/extends';\nimport Vue from 'vue';\nimport ConfirmDialog from './ConfirmDialog';\nimport { destroyFns } from './Modal';\nimport Base from '../base';\nimport Omit from 'omit.js';\nexport default function confirm(config) {\n  var div = document.createElement('div');\n  var el = document.createElement('div');\n  div.appendChild(el);\n  document.body.appendChild(div);\n\n  var currentConfig = _extends({}, Omit(config, ['parentContext']), {\n    close: close,\n    visible: true\n  });\n\n  var confirmDialogInstance = null;\n  var confirmDialogProps = {\n    props: {}\n  };\n\n  function close() {\n    destroy.apply(undefined, arguments);\n  }\n\n  function update(newConfig) {\n    currentConfig = _extends({}, currentConfig, newConfig);\n    confirmDialogProps.props = currentConfig;\n  }\n\n  function destroy() {\n    if (confirmDialogInstance && div.parentNode) {\n      confirmDialogInstance.$destroy();\n      confirmDialogInstance = null;\n      div.parentNode.removeChild(div);\n    }\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var triggerCancel = args.some(function (param) {\n      return param && param.triggerCancel;\n    });\n\n    if (config.onCancel && triggerCancel) {\n      config.onCancel.apply(config, args);\n    }\n\n    for (var i = 0; i < destroyFns.length; i++) {\n      var fn = destroyFns[i];\n\n      if (fn === close) {\n        destroyFns.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  function render(props) {\n    confirmDialogProps.props = props;\n    var V = Base.Vue || Vue;\n    return new V({\n      el: el,\n      parent: config.parentContext,\n      data: function data() {\n        return {\n          confirmDialogProps: confirmDialogProps\n        };\n      },\n      render: function render() {\n        var h = arguments[0]; // 先解构，避免报错，原因不详\n\n        var cdProps = _extends({}, this.confirmDialogProps);\n\n        return h(ConfirmDialog, cdProps);\n      }\n    });\n  }\n\n  confirmDialogInstance = render(currentConfig);\n  destroyFns.push(close);\n  return {\n    destroy: close,\n    update: update\n  };\n}","map":{"version":3,"names":["_extends","Vue","ConfirmDialog","destroyFns","Base","Omit","confirm","config","div","document","createElement","el","appendChild","body","currentConfig","close","visible","confirmDialogInstance","confirmDialogProps","props","destroy","apply","undefined","arguments","update","newConfig","parentNode","$destroy","removeChild","_len","length","args","Array","_key","triggerCancel","some","param","onCancel","i","fn","splice","render","V","parent","parentContext","data","h","cdProps","push"],"sources":["/Users/andreidev/domains/hakaton_cskz_front/node_modules/ant-design-vue/es/modal/confirm.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport Vue from 'vue';\nimport ConfirmDialog from './ConfirmDialog';\nimport { destroyFns } from './Modal';\nimport Base from '../base';\nimport Omit from 'omit.js';\n\nexport default function confirm(config) {\n  var div = document.createElement('div');\n  var el = document.createElement('div');\n  div.appendChild(el);\n  document.body.appendChild(div);\n  var currentConfig = _extends({}, Omit(config, ['parentContext']), { close: close, visible: true });\n\n  var confirmDialogInstance = null;\n  var confirmDialogProps = { props: {} };\n  function close() {\n    destroy.apply(undefined, arguments);\n  }\n  function update(newConfig) {\n    currentConfig = _extends({}, currentConfig, newConfig);\n    confirmDialogProps.props = currentConfig;\n  }\n  function destroy() {\n    if (confirmDialogInstance && div.parentNode) {\n      confirmDialogInstance.$destroy();\n      confirmDialogInstance = null;\n      div.parentNode.removeChild(div);\n    }\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var triggerCancel = args.some(function (param) {\n      return param && param.triggerCancel;\n    });\n    if (config.onCancel && triggerCancel) {\n      config.onCancel.apply(config, args);\n    }\n    for (var i = 0; i < destroyFns.length; i++) {\n      var fn = destroyFns[i];\n      if (fn === close) {\n        destroyFns.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  function render(props) {\n    confirmDialogProps.props = props;\n    var V = Base.Vue || Vue;\n    return new V({\n      el: el,\n      parent: config.parentContext,\n      data: function data() {\n        return { confirmDialogProps: confirmDialogProps };\n      },\n      render: function render() {\n        var h = arguments[0];\n\n        // 先解构，避免报错，原因不详\n        var cdProps = _extends({}, this.confirmDialogProps);\n        return h(ConfirmDialog, cdProps);\n      }\n    });\n  }\n\n  confirmDialogInstance = render(currentConfig);\n  destroyFns.push(close);\n  return {\n    destroy: close,\n    update: update\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}