{"ast":null,"code":"import PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport addEventListener from '../../vc-util/Dom/addEventListener';\nimport { initDefaultProps } from '../../_util/props-util';\nimport warning from '../../_util/warning';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport parentScroll from './utils/parentScroll';\nimport inViewport from './utils/inViewport';\nvar lazyLoadProps = {\n  debounce: PropTypes.bool,\n  elementType: PropTypes.string,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  offset: PropTypes.number,\n  offsetBottom: PropTypes.number,\n  offsetHorizontal: PropTypes.number,\n  offsetLeft: PropTypes.number,\n  offsetRight: PropTypes.number,\n  offsetTop: PropTypes.number,\n  offsetVertical: PropTypes.number,\n  threshold: PropTypes.number,\n  throttle: PropTypes.number,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  _propsSymbol: PropTypes.any\n};\nexport default {\n  name: 'LazyLoad',\n  mixins: [BaseMixin],\n  props: initDefaultProps(lazyLoadProps, {\n    elementType: 'div',\n    debounce: true,\n    offset: 0,\n    offsetBottom: 0,\n    offsetHorizontal: 0,\n    offsetLeft: 0,\n    offsetRight: 0,\n    offsetTop: 0,\n    offsetVertical: 0,\n    throttle: 250\n  }),\n  data: function data() {\n    if (this.throttle > 0) {\n      if (this.debounce) {\n        this.lazyLoadHandler = debounce(this.lazyLoadHandler, this.throttle);\n      } else {\n        this.lazyLoadHandler = throttle(this.lazyLoadHandler, this.throttle);\n      }\n    }\n\n    return {\n      visible: false\n    };\n  },\n  watch: {\n    _propsSymbol: function _propsSymbol() {\n      if (!this.visible) {\n        this.lazyLoadHandler();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this._mounted = true;\n\n      var eventNode = _this.getEventNode();\n\n      _this.lazyLoadHandler();\n\n      if (_this.lazyLoadHandler.flush) {\n        _this.lazyLoadHandler.flush();\n      }\n\n      _this.resizeHander = addEventListener(window, 'resize', _this.lazyLoadHandler);\n      _this.scrollHander = addEventListener(eventNode, 'scroll', _this.lazyLoadHandler);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this._mounted = false;\n\n    if (this.lazyLoadHandler.cancel) {\n      this.lazyLoadHandler.cancel();\n    }\n\n    this.detachListeners();\n  },\n  methods: {\n    getEventNode: function getEventNode() {\n      return parentScroll(this.$el);\n    },\n    getOffset: function getOffset() {\n      var _$props = this.$props,\n          offset = _$props.offset,\n          offsetVertical = _$props.offsetVertical,\n          offsetHorizontal = _$props.offsetHorizontal,\n          offsetTop = _$props.offsetTop,\n          offsetBottom = _$props.offsetBottom,\n          offsetLeft = _$props.offsetLeft,\n          offsetRight = _$props.offsetRight,\n          threshold = _$props.threshold;\n\n      var _offsetAll = threshold || offset;\n\n      var _offsetVertical = offsetVertical || _offsetAll;\n\n      var _offsetHorizontal = offsetHorizontal || _offsetAll;\n\n      return {\n        top: offsetTop || _offsetVertical,\n        bottom: offsetBottom || _offsetVertical,\n        left: offsetLeft || _offsetHorizontal,\n        right: offsetRight || _offsetHorizontal\n      };\n    },\n    lazyLoadHandler: function lazyLoadHandler() {\n      var _this2 = this;\n\n      if (!this._mounted) {\n        return;\n      }\n\n      var offset = this.getOffset();\n      var node = this.$el;\n      var eventNode = this.getEventNode();\n\n      if (inViewport(node, eventNode, offset)) {\n        this.setState({\n          visible: true\n        }, function () {\n          _this2.__emit('contentVisible');\n        });\n        this.detachListeners();\n      }\n    },\n    detachListeners: function detachListeners() {\n      this.resizeHander && this.resizeHander.remove();\n      this.scrollHander && this.scrollHander.remove();\n    }\n  },\n  render: function render(createElement) {\n    var children = this.$slots['default'];\n\n    if (children.length !== 1) {\n      warning(false, 'lazyLoad组件只能包含一个子元素');\n      return null;\n    }\n\n    var _$props2 = this.$props,\n        height = _$props2.height,\n        width = _$props2.width,\n        elementType = _$props2.elementType;\n    var visible = this.visible;\n    var elStyles = {\n      height: typeof height === 'number' ? height + 'px' : height,\n      width: typeof width === 'number' ? width + 'px' : width\n    };\n    var elClasses = {\n      LazyLoad: true,\n      'is-visible': visible\n    };\n    return createElement(elementType, {\n      'class': elClasses,\n      style: elStyles\n    }, [visible ? children[0] : null]);\n  }\n};","map":{"version":3,"names":["PropTypes","BaseMixin","addEventListener","initDefaultProps","warning","debounce","throttle","parentScroll","inViewport","lazyLoadProps","bool","elementType","string","height","oneOfType","number","offset","offsetBottom","offsetHorizontal","offsetLeft","offsetRight","offsetTop","offsetVertical","threshold","width","_propsSymbol","any","name","mixins","props","data","lazyLoadHandler","visible","watch","mounted","_this","$nextTick","_mounted","eventNode","getEventNode","flush","resizeHander","window","scrollHander","beforeDestroy","cancel","detachListeners","methods","$el","getOffset","_$props","$props","_offsetAll","_offsetVertical","_offsetHorizontal","top","bottom","left","right","_this2","node","setState","__emit","remove","render","createElement","children","$slots","length","_$props2","elStyles","elClasses","LazyLoad","style"],"sources":["/Users/andreidev/domains/hakaton_cskz_front/node_modules/ant-design-vue/es/vc-lazy-load/src/LazyLoad.js"],"sourcesContent":["import PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport addEventListener from '../../vc-util/Dom/addEventListener';\nimport { initDefaultProps } from '../../_util/props-util';\nimport warning from '../../_util/warning';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport parentScroll from './utils/parentScroll';\nimport inViewport from './utils/inViewport';\n\nvar lazyLoadProps = {\n  debounce: PropTypes.bool,\n  elementType: PropTypes.string,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  offset: PropTypes.number,\n  offsetBottom: PropTypes.number,\n  offsetHorizontal: PropTypes.number,\n  offsetLeft: PropTypes.number,\n  offsetRight: PropTypes.number,\n  offsetTop: PropTypes.number,\n  offsetVertical: PropTypes.number,\n  threshold: PropTypes.number,\n  throttle: PropTypes.number,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  _propsSymbol: PropTypes.any\n};\n\nexport default {\n  name: 'LazyLoad',\n  mixins: [BaseMixin],\n  props: initDefaultProps(lazyLoadProps, {\n    elementType: 'div',\n    debounce: true,\n    offset: 0,\n    offsetBottom: 0,\n    offsetHorizontal: 0,\n    offsetLeft: 0,\n    offsetRight: 0,\n    offsetTop: 0,\n    offsetVertical: 0,\n    throttle: 250\n  }),\n  data: function data() {\n    if (this.throttle > 0) {\n      if (this.debounce) {\n        this.lazyLoadHandler = debounce(this.lazyLoadHandler, this.throttle);\n      } else {\n        this.lazyLoadHandler = throttle(this.lazyLoadHandler, this.throttle);\n      }\n    }\n    return {\n      visible: false\n    };\n  },\n\n  watch: {\n    _propsSymbol: function _propsSymbol() {\n      if (!this.visible) {\n        this.lazyLoadHandler();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this._mounted = true;\n      var eventNode = _this.getEventNode();\n\n      _this.lazyLoadHandler();\n\n      if (_this.lazyLoadHandler.flush) {\n        _this.lazyLoadHandler.flush();\n      }\n      _this.resizeHander = addEventListener(window, 'resize', _this.lazyLoadHandler);\n      _this.scrollHander = addEventListener(eventNode, 'scroll', _this.lazyLoadHandler);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this._mounted = false;\n    if (this.lazyLoadHandler.cancel) {\n      this.lazyLoadHandler.cancel();\n    }\n\n    this.detachListeners();\n  },\n\n  methods: {\n    getEventNode: function getEventNode() {\n      return parentScroll(this.$el);\n    },\n    getOffset: function getOffset() {\n      var _$props = this.$props,\n          offset = _$props.offset,\n          offsetVertical = _$props.offsetVertical,\n          offsetHorizontal = _$props.offsetHorizontal,\n          offsetTop = _$props.offsetTop,\n          offsetBottom = _$props.offsetBottom,\n          offsetLeft = _$props.offsetLeft,\n          offsetRight = _$props.offsetRight,\n          threshold = _$props.threshold;\n\n\n      var _offsetAll = threshold || offset;\n      var _offsetVertical = offsetVertical || _offsetAll;\n      var _offsetHorizontal = offsetHorizontal || _offsetAll;\n\n      return {\n        top: offsetTop || _offsetVertical,\n        bottom: offsetBottom || _offsetVertical,\n        left: offsetLeft || _offsetHorizontal,\n        right: offsetRight || _offsetHorizontal\n      };\n    },\n    lazyLoadHandler: function lazyLoadHandler() {\n      var _this2 = this;\n\n      if (!this._mounted) {\n        return;\n      }\n      var offset = this.getOffset();\n      var node = this.$el;\n      var eventNode = this.getEventNode();\n\n      if (inViewport(node, eventNode, offset)) {\n        this.setState({ visible: true }, function () {\n          _this2.__emit('contentVisible');\n        });\n        this.detachListeners();\n      }\n    },\n    detachListeners: function detachListeners() {\n      this.resizeHander && this.resizeHander.remove();\n      this.scrollHander && this.scrollHander.remove();\n    }\n  },\n  render: function render(createElement) {\n    var children = this.$slots['default'];\n    if (children.length !== 1) {\n      warning(false, 'lazyLoad组件只能包含一个子元素');\n      return null;\n    }\n    var _$props2 = this.$props,\n        height = _$props2.height,\n        width = _$props2.width,\n        elementType = _$props2.elementType;\n    var visible = this.visible;\n\n\n    var elStyles = {\n      height: typeof height === 'number' ? height + 'px' : height,\n      width: typeof width === 'number' ? width + 'px' : width\n    };\n    var elClasses = {\n      LazyLoad: true,\n      'is-visible': visible\n    };\n\n    return createElement(elementType, {\n      'class': elClasses,\n      style: elStyles\n    }, [visible ? children[0] : null]);\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}