{"ast":null,"code":"import \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.every.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.math.sign.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.string.fixed.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _extends from 'babel-runtime/helpers/extends';\nimport VcTable, { INTERNAL_COL_DEFINE } from '../vc-table';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter } from './util';\nimport { initDefaultProps, mergeProps, getOptionProps, getListeners } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport { TableProps } from './interface';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport warning from '../_util/warning';\nimport scrollTo from '../_util/scrollTo';\nimport TransButton from '../_util/transButton';\nimport Vue from 'vue';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    } // https://github.com/ant-design/ant-design/issues/19398\n\n\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bodyRow = components && components.body && components.body.row;\n  return _extends({}, components, {\n    body: _extends({}, components.body, {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns(state, columns) {\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nexport default {\n  name: 'Table',\n  Column: Column,\n  ColumnGroup: ColumnGroup,\n  mixins: [BaseMixin],\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  provide: function provide() {\n    return {\n      store: this.store\n    };\n  },\n  props: initDefaultProps(TableProps, {\n    dataSource: [],\n    useFixedHeader: false,\n    // rowSelection: null,\n    size: 'default',\n    loading: false,\n    bordered: false,\n    indentSize: 20,\n    locale: {},\n    rowKey: 'key',\n    showHeader: true,\n    sortDirections: ['ascend', 'descend'],\n    childrenColumnName: 'children'\n  }),\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!props.expandedRowRender || !('scroll' in props) || !props.scroll.x, '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\n    this.CheckboxPropsCache = {};\n    this.store = (this.$root.constructor.observable || Vue.observable)({\n      selectedRowKeys: getRowSelection(this.$props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _extends({}, this.getDefaultSortOrder(props.columns || []), {\n      // 减少状态\n      sFilters: this.getDefaultFilters(props.columns),\n      sPagination: this.getDefaultPagination(this.$props),\n      pivot: undefined,\n      sComponents: createComponents(this.components),\n      filterDataCnt: 0\n    });\n  },\n  watch: {\n    pagination: {\n      handler: function handler(val) {\n        this.setState(function (previousState) {\n          var newPagination = _extends({}, defaultPagination, previousState.sPagination, val);\n\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return {\n            sPagination: val !== false ? newPagination : emptyObject\n          };\n        });\n      },\n      deep: true\n    },\n    rowSelection: {\n      handler: function handler(val, oldVal) {\n        if (val && 'selectedRowKeys' in val) {\n          this.store.selectedRowKeys = val.selectedRowKeys || [];\n          var rowSelection = this.rowSelection;\n\n          if (rowSelection && val.getCheckboxProps !== rowSelection.getCheckboxProps) {\n            this.CheckboxPropsCache = {};\n          }\n        } else if (oldVal && !val) {\n          this.store.selectedRowKeys = [];\n        }\n      },\n      deep: true\n    },\n    dataSource: function dataSource() {\n      this.store.selectionDirty = false;\n      this.CheckboxPropsCache = {};\n    },\n    columns: function columns(val) {\n      var filteredValueColumns = getFilteredValueColumns({\n        columns: val\n      }, val);\n\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns({\n          columns: val\n        }, val);\n\n        var newFilters = _extends({}, this.sFilters);\n\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n\n        if (isFiltersChanged({\n          filters: this.sFilters\n        }, newFilters)) {\n          this.setState({\n            sFilters: newFilters\n          });\n        }\n      }\n\n      this.$forceUpdate();\n    },\n    components: {\n      handler: function handler(val, oldVal) {\n        if (!isTheSameComponents(val, oldVal)) {\n          var components = createComponents(val);\n          this.setState({\n            sComponents: components\n          });\n        }\n      },\n      deep: true\n    }\n  },\n  updated: function updated() {\n    var columns = this.columns,\n        sortColumn = this.sSortColumn,\n        sortOrder = this.sSortOrder;\n\n    if (this.getSortOrderColumns(columns).length > 0) {\n      var sortState = this.getSortStateFromColumns(columns);\n\n      if (!isSameColumn(sortState.sSortColumn, sortColumn) || sortState.sSortOrder !== sortOrder) {\n        this.setState(sortState);\n      }\n    }\n  },\n  methods: {\n    getCheckboxPropsByItem: function getCheckboxPropsByItem(item, index) {\n      var rowSelection = getRowSelection(this.$props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return {\n          props: {}\n        };\n      }\n\n      var key = this.getRecordKey(item, index); // Cache checkboxProps\n\n      if (!this.CheckboxPropsCache[key]) {\n        this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n      }\n\n      this.CheckboxPropsCache[key].props = this.CheckboxPropsCache[key].props || {};\n      return this.CheckboxPropsCache[key];\n    },\n    getDefaultSelection: function getDefaultSelection() {\n      var _this = this;\n\n      var rowSelection = getRowSelection(this.$props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this.getCheckboxPropsByItem(item, rowIndex).props.defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this.getRecordKey(record, rowIndex);\n      });\n    },\n    getDefaultPagination: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current = void 0;\n\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n\n      var pageSize = void 0;\n\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    },\n    getSortOrderColumns: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    },\n    getDefaultFilters: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns({\n        columns: this.columns\n      }, columns);\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n      return _extends({}, defaultFilters, definedFilters);\n    },\n    getDefaultSortOrder: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sSortColumn: defaultSortedColumn,\n          sSortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    },\n    getSortStateFromColumns: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sSortColumn: sortedColumn,\n          sSortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sSortColumn: null,\n        sSortOrder: null\n      };\n    },\n    getMaxCurrent: function getMaxCurrent(total) {\n      var _sPagination = this.sPagination,\n          current = _sPagination.current,\n          pageSize = _sPagination.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n\n      return current;\n    },\n    getRecordKey: function getRecordKey(record, index) {\n      var rowKey = this.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ');\n      return recordKey === undefined ? index : recordKey;\n    },\n    getSorterFn: function getSorterFn(state) {\n      var _ref = state || this.$data,\n          sortOrder = _ref.sSortOrder,\n          sortColumn = _ref.sSortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n\n        return 0;\n      };\n    },\n    getCurrentPageData: function getCurrentPageData() {\n      var data = this.getLocalData();\n      this.filterDataCnt = data.length;\n      var current = void 0;\n      var pageSize = void 0;\n      var sPagination = this.sPagination; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = sPagination.pageSize;\n        current = this.getMaxCurrent(sPagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n\n      return data;\n    },\n    getFlatData: function getFlatData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    },\n    getFlatCurrentPageData: function getFlatCurrentPageData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    },\n    getLocalData: function getLocalData(state) {\n      var _this2 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.$data;\n      var filters = currentState.sFilters;\n      var dataSource = this.$props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n\n      if (sorterFn) {\n        // 使用新数组，避免改变原数组导致无限循环更新\n        // https://github.com/vueComponent/ant-design-vue/issues/2270\n        data = this.recursiveSort([].concat(_toConsumableArray(data)), sorterFn);\n      } // 筛选\n\n\n      if (filter && filters) {\n        Object.keys(filters).forEach(function (columnKey) {\n          var col = _this2.findColumn(columnKey);\n\n          if (!col) {\n            return;\n          }\n\n          var values = filters[columnKey] || [];\n\n          if (values.length === 0) {\n            return;\n          }\n\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n\n      return data;\n    },\n    onRow: function onRow(prefixCls, record, index) {\n      var customRow = this.customRow;\n      var custom = customRow ? customRow(record, index) : {};\n      return mergeProps(custom, {\n        props: {\n          prefixCls: prefixCls,\n          store: this.store,\n          rowKey: this.getRecordKey(record, index)\n        }\n      });\n    },\n    setSelectedRowKeys: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.$props);\n\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.selectedRowKeys = selectedRowKeys;\n      }\n\n      var data = this.getFlatData();\n\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    },\n    generatePopupContainerFunc: function generatePopupContainerFunc(getPopupContainer) {\n      var scroll = this.$props.scroll;\n      var table = this.$refs.vcTable;\n\n      if (getPopupContainer) {\n        return getPopupContainer;\n      } // Use undefined to let rc component use default logic.\n\n\n      return scroll && table ? function () {\n        return table.getTableNode();\n      } : undefined;\n    },\n    scrollToFirstRow: function scrollToFirstRow() {\n      var _this4 = this;\n\n      var scroll = this.$props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this4.$refs.vcTable.getBodyTable();\n          }\n        });\n      }\n    },\n    isSameColumn: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    },\n    handleFilter: function handleFilter(column, nextFilters) {\n      var _this5 = this;\n\n      var props = this.$props;\n\n      var pagination = _extends({}, this.sPagination);\n\n      var filters = _extends({}, this.sFilters, _defineProperty({}, getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n\n      var currentColumnKeys = [];\n      treeMap(this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        sPagination: pagination,\n        sFilters: {}\n      };\n\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n\n      getFilteredValueColumns({\n        columns: props.columns\n      }).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.sFilters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, function () {\n        _this5.scrollToFirstRow();\n\n        _this5.store.selectionDirty = false;\n\n        _this5.$emit.apply(_this5, ['change'].concat(_toConsumableArray(_this5.prepareParamsArguments(_extends({}, _this5.$data, {\n          sSelectionDirty: false,\n          sFilters: filters,\n          sPagination: pagination\n        })))));\n      });\n    },\n    handleSelect: function handleSelect(record, rowIndex, e) {\n      var _this6 = this;\n\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var key = this.getRecordKey(record, rowIndex);\n      var pivot = this.$data.pivot;\n      var rows = this.getFlatCurrentPageData();\n      var realIndex = rowIndex;\n\n      if (this.$props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this6.getRecordKey(row, rowIndex) === key;\n        });\n      }\n\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n\n          var rowKey = _this6.getRecordKey(row, i);\n\n          var checkboxProps = _this6.getCheckboxPropsByItem(row, i);\n\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    },\n    handleRadioSelect: function handleRadioSelect(record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      this.store.selectionDirty = true;\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    },\n    handleSelectRow: function handleSelectRow(selectionKey, index, onSelectFunc) {\n      var _this7 = this;\n\n      var data = this.getFlatCurrentPageData();\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this7.getCheckboxPropsByItem(item, i).props.disabled;\n      }).map(function (item, i) {\n        return _this7.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked = void 0; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      this.store.selectionDirty = true; // when select custom selection, callback selections[n].onSelect\n\n      var rowSelection = this.rowSelection;\n      var customSelectionStartIndex = 2;\n\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    },\n    handlePageChange: function handlePageChange(current) {\n      var props = this.$props;\n\n      var pagination = _extends({}, this.sPagination);\n\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(_toConsumableArray(otherArguments)));\n      var newState = {\n        sPagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, this.scrollToFirstRow);\n      this.store.selectionDirty = false;\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sSelectionDirty: false,\n        sPagination: pagination\n      })))));\n    },\n    handleShowSizeChange: function handleShowSizeChange(current, pageSize) {\n      var pagination = this.sPagination;\n      pagination.onShowSizeChange(current, pageSize);\n\n      var nextPagination = _extends({}, pagination, {\n        pageSize: pageSize,\n        current: current\n      });\n\n      this.setState({\n        sPagination: nextPagination\n      }, this.scrollToFirstRow);\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sPagination: nextPagination\n      })))));\n    },\n    toggleSortOrder: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.sortDirections;\n      var sortOrder = this.sSortOrder,\n          sortColumn = this.sSortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder = void 0; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n\n      var newState = {\n        sSortOrder: newSortOrder,\n        sSortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, newState), column))));\n    },\n    hasPagination: function hasPagination(props) {\n      return (props || this.$props).pagination !== false;\n    },\n    isSortColumn: function isSortColumn(column) {\n      var sortColumn = this.sSortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    },\n    // Get pagination, filters, sorter\n    prepareParamsArguments: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.sPagination); // remove useless handle function in Table.onChange\n\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.sFilters;\n      var sorter = {};\n      var currentColumn = column;\n\n      if (state.sSortColumn && state.sSortOrder) {\n        currentColumn = state.sSortColumn;\n        sorter.column = state.sSortColumn;\n        sorter.order = state.sSortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    },\n    findColumn: function findColumn(myKey) {\n      var column = void 0;\n      treeMap(this.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    },\n    recursiveSort: function recursiveSort(data, sorterFn) {\n      var _this8 = this;\n\n      var _childrenColumnName = this.childrenColumnName,\n          childrenColumnName = _childrenColumnName === undefined ? 'children' : _childrenColumnName;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this8.recursiveSort([].concat(_toConsumableArray(item[childrenColumnName])), sorterFn))) : item;\n      });\n    },\n    renderExpandIcon: function renderExpandIcon(prefixCls) {\n      var h = this.$createElement;\n      return function (_ref2) {\n        var expandable = _ref2.expandable,\n            expanded = _ref2.expanded,\n            needIndentSpaced = _ref2.needIndentSpaced,\n            record = _ref2.record,\n            onExpand = _ref2.onExpand;\n\n        if (expandable) {\n          return h(LocaleReceiver, {\n            attrs: {\n              componentName: 'Table',\n              defaultLocale: defaultLocale.Table\n            }\n          }, [function (locale) {\n            var _classNames;\n\n            return h(TransButton, {\n              'class': classNames(prefixCls + '-row-expand-icon', (_classNames = {}, _defineProperty(_classNames, prefixCls + '-row-collapsed', !expanded), _defineProperty(_classNames, prefixCls + '-row-expanded', expanded), _classNames)),\n              on: {\n                'click': function click(event) {\n                  onExpand(record, event);\n                }\n              },\n              attrs: {\n                'aria-label': expanded ? locale.collapse : locale.expand,\n                noStyle: true\n              }\n            });\n          }]);\n        }\n\n        if (needIndentSpaced) {\n          return h('span', {\n            'class': prefixCls + '-row-expand-icon ' + prefixCls + '-row-spaced'\n          });\n        }\n\n        return null;\n      };\n    },\n    renderPagination: function renderPagination(prefixCls, paginationPosition) {\n      var h = this.$createElement; // 强制不需要分页\n\n      if (!this.hasPagination()) {\n        return null;\n      }\n\n      var size = 'default';\n      var pagination = this.sPagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.size === 'middle' || this.size === 'small') {\n        size = 'small';\n      }\n\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.filterDataCnt;\n\n      var cls = pagination['class'],\n          style = pagination.style,\n          onChange = pagination.onChange,\n          onShowSizeChange = pagination.onShowSizeChange,\n          restProps = _objectWithoutProperties(pagination, ['class', 'style', 'onChange', 'onShowSizeChange']); // eslint-disable-line\n\n\n      var paginationProps = mergeProps({\n        key: 'pagination-' + paginationPosition,\n        'class': classNames(cls, prefixCls + '-pagination'),\n        props: _extends({}, restProps, {\n          total: total,\n          size: size,\n          current: this.getMaxCurrent(total)\n        }),\n        style: style,\n        on: {\n          change: this.handlePageChange,\n          showSizeChange: this.handleShowSizeChange\n        }\n      });\n      return total > 0 && (position === paginationPosition || position === 'both') ? h(Pagination, paginationProps) : null;\n    },\n    renderSelectionBox: function renderSelectionBox(type) {\n      var _this9 = this;\n\n      var h = this.$createElement;\n      return function (_, record, index) {\n        var rowKey = _this9.getRecordKey(record, index); // 从 1 开始\n\n\n        var props = _this9.getCheckboxPropsByItem(record, index);\n\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this9.handleRadioSelect(record, index, e) : _this9.handleSelect(record, index, e);\n        };\n\n        var selectionBoxProps = mergeProps({\n          props: {\n            type: type,\n            store: _this9.store,\n            rowIndex: rowKey,\n            defaultSelection: _this9.getDefaultSelection()\n          },\n          on: {\n            change: handleChange\n          }\n        }, props);\n        return h('span', {\n          on: {\n            'click': stopPropagation\n          }\n        }, [h(SelectionBox, selectionBoxProps)]);\n      };\n    },\n    renderRowSelection: function renderRowSelection(_ref3) {\n      var _this10 = this;\n\n      var prefixCls = _ref3.prefixCls,\n          locale = _ref3.locale,\n          getPopupContainer = _ref3.getPopupContainer;\n      var h = this.$createElement;\n      var rowSelection = this.rowSelection;\n      var columns = this.columns.concat();\n\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this10.getCheckboxPropsByItem(item, index).props.disabled;\n          }\n\n          return true;\n        });\n        var selectionColumnClass = classNames(prefixCls + '-selection-column', _defineProperty({}, prefixCls + '-selection-column-custom', rowSelection.selections));\n\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          customRender: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          'class': prefixCls + '-selection-col'\n        });\n\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this10.getCheckboxPropsByItem(item, index).props.disabled;\n          });\n          selectionColumn.title = selectionColumn.title || h(SelectionCheckboxAll, {\n            attrs: {\n              store: this.store,\n              locale: locale,\n              data: data,\n              getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n              getRecordKey: this.getRecordKey,\n              disabled: checkboxAllDisabled,\n              prefixCls: prefixCls,\n              selections: rowSelection.selections,\n              hideDefaultSelections: rowSelection.hideDefaultSelections,\n              getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n            },\n            on: {\n              'select': this.handleSelectRow\n            }\n          });\n        }\n\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n\n      return columns;\n    },\n    renderColumnsDropdown: function renderColumnsDropdown(_ref4) {\n      var _this11 = this;\n\n      var prefixCls = _ref4.prefixCls,\n          dropdownPrefixCls = _ref4.dropdownPrefixCls,\n          columns = _ref4.columns,\n          locale = _ref4.locale,\n          getPopupContainer = _ref4.getPopupContainer;\n      var h = this.$createElement;\n      var sortOrder = this.sSortOrder,\n          filters = this.sFilters;\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown = void 0;\n        var sortButton = void 0;\n        var customHeaderCell = column.customHeaderCell;\n\n        var isSortColumn = _this11.isSortColumn(column);\n\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = h(FilterDropdown, {\n            attrs: {\n              _propsSymbol: Symbol(),\n              locale: locale,\n              column: column,\n              selectedKeys: colFilters,\n              confirmFilter: _this11.handleFilter,\n              prefixCls: prefixCls + '-filter',\n              dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n              getPopupContainer: _this11.generatePopupContainerFunc(getPopupContainer)\n            },\n            key: 'filter-dropdown'\n          });\n        }\n\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this11.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-up ' + (isAscend ? 'on' : 'off'),\n            attrs: {\n              type: 'caret-up',\n              theme: 'filled'\n            },\n            key: 'caret-up'\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-down ' + (isDescend ? 'on' : 'off'),\n            attrs: {\n              type: 'caret-down',\n              theme: 'filled'\n            },\n            key: 'caret-down'\n          });\n          sortButton = h('div', {\n            attrs: {\n              title: locale.sortTitle\n            },\n            'class': classNames(prefixCls + '-column-sorter-inner', ascend && descend && prefixCls + '-column-sorter-inner-full'),\n            key: 'sorter'\n          }, [ascend, descend]);\n\n          customHeaderCell = function customHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.customHeaderCell) {\n              colProps = _extends({}, column.customHeaderCell(col));\n            }\n\n            colProps.on = colProps.on || {}; // Add sorter logic\n\n            var onHeaderCellClick = colProps.on.click;\n\n            colProps.on.click = function () {\n              _this11.toggleSortOrder(column);\n\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(undefined, arguments);\n              }\n            };\n\n            return colProps;\n          };\n        }\n\n        return _extends({}, column, {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, prefixCls + '-column-has-actions', sortButton || filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-filters', filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-sorters', sortButton), _defineProperty(_classNames3, prefixCls + '-column-sort', isSortColumn && sortOrder), _classNames3)),\n          title: [h('span', {\n            key: 'title',\n            'class': prefixCls + '-header-column'\n          }, [h('div', {\n            'class': sortButton ? prefixCls + '-column-sorters' : undefined\n          }, [h('span', {\n            'class': prefixCls + '-column-title'\n          }, [_this11.renderColumnTitle(column.title)]), h('span', {\n            'class': prefixCls + '-column-sorter'\n          }, [sortButton])])]), filterDropdown],\n          customHeaderCell: customHeaderCell\n        });\n      });\n    },\n    renderColumnTitle: function renderColumnTitle(title) {\n      var _$data = this.$data,\n          filters = _$data.sFilters,\n          sortOrder = _$data.sSortOrder,\n          sortColumn = _$data.sSortColumn; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n\n      return title;\n    },\n    renderTable: function renderTable(_ref5) {\n      var _classNames4,\n          _this12 = this;\n\n      var prefixCls = _ref5.prefixCls,\n          renderEmpty = _ref5.renderEmpty,\n          dropdownPrefixCls = _ref5.dropdownPrefixCls,\n          contextLocale = _ref5.contextLocale,\n          contextGetPopupContainer = _ref5.getPopupContainer,\n          transformCellText = _ref5.transformCellText;\n      var h = this.$createElement;\n\n      var _getOptionProps = getOptionProps(this),\n          showHeader = _getOptionProps.showHeader,\n          locale = _getOptionProps.locale,\n          getPopupContainer = _getOptionProps.getPopupContainer,\n          expandIcon = _getOptionProps.expandIcon,\n          restProps = _objectWithoutProperties(_getOptionProps, ['showHeader', 'locale', 'getPopupContainer', 'expandIcon']);\n\n      var data = this.getCurrentPageData();\n      var expandIconAsCell = this.expandedRowRender && this.expandIconAsCell !== false; // use props.getPopupContainer first\n\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer; // Merge too locales\n\n      var mergedLocale = _extends({}, contextLocale, locale);\n\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty(h, 'Table');\n      }\n\n      var classString = classNames((_classNames4 = {}, _defineProperty(_classNames4, prefixCls + '-' + this.size, true), _defineProperty(_classNames4, prefixCls + '-bordered', this.bordered), _defineProperty(_classNames4, prefixCls + '-empty', !data.length), _defineProperty(_classNames4, prefixCls + '-without-column-header', !showHeader), _classNames4));\n      var columnsWithRowSelection = this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n      var columns = this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n\n      var vcTableProps = {\n        key: 'table',\n        props: _extends({\n          expandIcon: expandIcon || this.renderExpandIcon(prefixCls)\n        }, restProps, {\n          customRow: function customRow(record, index) {\n            return _this12.onRow(prefixCls, record, index);\n          },\n          components: this.sComponents,\n          prefixCls: prefixCls,\n          data: data,\n          columns: columns,\n          showHeader: showHeader,\n          expandIconColumnIndex: expandIconColumnIndex,\n          expandIconAsCell: expandIconAsCell,\n          emptyText: mergedLocale.emptyText,\n          transformCellText: transformCellText\n        }),\n        on: getListeners(this),\n        'class': classString,\n        ref: 'vcTable'\n      };\n      return h(VcTable, vcTableProps);\n    }\n  },\n  render: function render() {\n    var _this13 = this;\n\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        customizeDropdownPrefixCls = this.dropdownPrefixCls,\n        customizeTransformCellText = this.transformCellText;\n    var data = this.getCurrentPageData();\n    var _configProvider = this.configProvider,\n        getContextPopupContainer = _configProvider.getPopupContainer,\n        tct = _configProvider.transformCellText;\n    var getPopupContainer = this.getPopupContainer || getContextPopupContainer;\n    var transformCellText = customizeTransformCellText || tct;\n    var loading = this.loading;\n\n    if (typeof loading === 'boolean') {\n      loading = {\n        props: {\n          spinning: loading\n        }\n      };\n    } else {\n      loading = {\n        props: _extends({}, loading)\n      };\n    }\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var renderEmpty = this.configProvider.renderEmpty;\n    var prefixCls = getPrefixCls('table', customizePrefixCls);\n    var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n    var table = h(LocaleReceiver, {\n      attrs: {\n        componentName: 'Table',\n        defaultLocale: defaultLocale.Table,\n        children: function children(locale) {\n          return _this13.renderTable({\n            prefixCls: prefixCls,\n            renderEmpty: renderEmpty,\n            dropdownPrefixCls: dropdownPrefixCls,\n            contextLocale: locale,\n            getPopupContainer: getPopupContainer,\n            transformCellText: transformCellText\n          });\n        }\n      }\n    }); // if there is no pagination or no data,\n    // the height of spin should decrease by half of pagination\n\n    var paginationPatchClass = this.hasPagination() && data && data.length !== 0 ? prefixCls + '-with-pagination' : prefixCls + '-without-pagination';\n\n    var spinProps = _extends({}, loading, {\n      'class': loading.props && loading.props.spinning ? paginationPatchClass + ' ' + prefixCls + '-spin-holder' : ''\n    });\n\n    return h('div', {\n      'class': classNames(prefixCls + '-wrapper')\n    }, [h(Spin, spinProps, [this.renderPagination(prefixCls, 'top'), table, this.renderPagination(prefixCls, 'bottom')])]);\n  }\n};","map":{"version":3,"names":["_objectWithoutProperties","_defineProperty","_toConsumableArray","_typeof","_extends","VcTable","INTERNAL_COL_DEFINE","classNames","shallowEqual","FilterDropdown","SelectionBox","SelectionCheckboxAll","Column","ColumnGroup","createBodyRow","flatArray","treeMap","flatFilter","initDefaultProps","mergeProps","getOptionProps","getListeners","BaseMixin","ConfigConsumerProps","TableProps","Pagination","Icon","Spin","LocaleReceiver","defaultLocale","warning","scrollTo","TransButton","Vue","noop","stopPropagation","e","getRowSelection","props","rowSelection","getColumnKey","column","index","key","dataIndex","isSameColumn","a","b","value","other","toString","Array","isArray","defaultPagination","onChange","onShowSizeChange","emptyObject","createComponents","components","arguments","length","undefined","bodyRow","body","row","isTheSameComponents","components1","components2","every","getFilteredValueColumns","state","columns","filteredValue","getFiltersFromColumns","filters","forEach","col","colKey","isFiltersChanged","Object","keys","some","columnKey","name","mixins","inject","configProvider","_default","provide","store","dataSource","useFixedHeader","size","loading","bordered","indentSize","locale","rowKey","showHeader","sortDirections","childrenColumnName","data","expandedRowRender","scroll","x","CheckboxPropsCache","$root","constructor","observable","selectedRowKeys","$props","selectionDirty","getDefaultSortOrder","sFilters","getDefaultFilters","sPagination","getDefaultPagination","pivot","sComponents","filterDataCnt","watch","pagination","handler","val","setState","previousState","newPagination","current","pageSize","deep","oldVal","getCheckboxProps","filteredValueColumns","filtersFromColumns","newFilters","$forceUpdate","updated","sortColumn","sSortColumn","sortOrder","sSortOrder","getSortOrderColumns","sortState","getSortStateFromColumns","methods","getCheckboxPropsByItem","item","getRecordKey","getDefaultSelection","_this","getFlatData","filter","rowIndex","defaultChecked","map","record","defaultCurrent","defaultPageSize","hasPagination","definedFilters","defaultFilteredValueColumns","defaultFilteredValue","defaultFilters","reduce","soFar","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","getMaxCurrent","total","_sPagination","Math","floor","recordKey","getSorterFn","_ref","$data","sorter","result","getCurrentPageData","getLocalData","Number","MAX_VALUE","slice","getFlatCurrentPageData","_this2","currentState","sorterFn","recursiveSort","concat","findColumn","values","onFilter","v","onRow","prefixCls","customRow","custom","setSelectedRowKeys","selectionInfo","_this3","selectWay","checked","changeRowKeys","nativeEvent","selectedRows","i","indexOf","onSelect","onSelectMultiple","changeRows","onSelectAll","_changeRows","onSelectInvert","generatePopupContainerFunc","getPopupContainer","table","$refs","vcTable","getTableNode","scrollToFirstRow","_this4","scrollToFirstRowOnChange","getContainer","getBodyTable","handleFilter","nextFilters","_this5","currentColumnKeys","c","children","push","newState","filtersToSetState","$emit","apply","prepareParamsArguments","sSelectionDirty","handleSelect","_this6","target","defaultSelection","rows","realIndex","findIndex","shiftKey","direction","sign","dist","abs","step","_loop","checkboxProps","disabled","includes","j","handleRadioSelect","handleSelectRow","selectionKey","onSelectFunc","_this7","changeableRowKeys","splice","customSelectionStartIndex","hideDefaultSelections","handlePageChange","_len","otherArguments","_key","handleShowSizeChange","nextPagination","toggleSortOrder","newSortOrder","methodIndex","isSortColumn","currentColumn","order","field","extra","currentDataSource","myKey","_this8","_childrenColumnName","sort","renderExpandIcon","h","$createElement","_ref2","expandable","expanded","needIndentSpaced","onExpand","attrs","componentName","Table","_classNames","on","click","event","collapse","expand","noStyle","renderPagination","paginationPosition","position","cls","style","restProps","paginationProps","change","showSizeChange","renderSelectionBox","type","_this9","_","handleChange","selectionBoxProps","renderRowSelection","_ref3","_this10","selectionColumnClass","selections","selectionColumn","customRender","className","fixed","width","columnWidth","title","columnTitle","checkboxAllDisabled","unshift","renderColumnsDropdown","_ref4","_this11","dropdownPrefixCls","_classNames3","filterDropdown","sortButton","customHeaderCell","colFilters","_propsSymbol","Symbol","selectedKeys","confirmFilter","isAscend","isDescend","ascend","theme","descend","sortTitle","colProps","onHeaderCellClick","renderColumnTitle","_$data","Function","renderTable","_ref5","_classNames4","_this12","renderEmpty","contextLocale","contextGetPopupContainer","transformCellText","_getOptionProps","expandIcon","expandIconAsCell","realGetPopupContainer","mergedLocale","emptyText","classString","columnsWithRowSelection","newColumn","expandIconColumnIndex","vcTableProps","ref","render","_this13","customizePrefixCls","customizeDropdownPrefixCls","customizeTransformCellText","_configProvider","getContextPopupContainer","tct","spinning","getPrefixCls","paginationPatchClass","spinProps"],"sources":["/Users/andreidev/domains/hakaton_cskz_front/node_modules/ant-design-vue/es/table/Table.js"],"sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _extends from 'babel-runtime/helpers/extends';\nimport VcTable, { INTERNAL_COL_DEFINE } from '../vc-table';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter } from './util';\nimport { initDefaultProps, mergeProps, getOptionProps, getListeners } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport { TableProps } from './interface';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport warning from '../_util/warning';\nimport scrollTo from '../_util/scrollTo';\nimport TransButton from '../_util/transButton';\nimport Vue from 'vue';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    }\n    // https://github.com/ant-design/ant-design/issues/19398\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var bodyRow = components && components.body && components.body.row;\n  return _extends({}, components, {\n    body: _extends({}, components.body, {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns(state, columns) {\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nexport default {\n  name: 'Table',\n  Column: Column,\n  ColumnGroup: ColumnGroup,\n  mixins: [BaseMixin],\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  provide: function provide() {\n    return {\n      store: this.store\n    };\n  },\n\n  props: initDefaultProps(TableProps, {\n    dataSource: [],\n    useFixedHeader: false,\n    // rowSelection: null,\n    size: 'default',\n    loading: false,\n    bordered: false,\n    indentSize: 20,\n    locale: {},\n    rowKey: 'key',\n    showHeader: true,\n    sortDirections: ['ascend', 'descend'],\n    childrenColumnName: 'children'\n  }),\n\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!props.expandedRowRender || !('scroll' in props) || !props.scroll.x, '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\n    this.CheckboxPropsCache = {};\n\n    this.store = (this.$root.constructor.observable || Vue.observable)({\n      selectedRowKeys: getRowSelection(this.$props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _extends({}, this.getDefaultSortOrder(props.columns || []), {\n      // 减少状态\n      sFilters: this.getDefaultFilters(props.columns),\n      sPagination: this.getDefaultPagination(this.$props),\n      pivot: undefined,\n      sComponents: createComponents(this.components),\n      filterDataCnt: 0\n    });\n  },\n\n  watch: {\n    pagination: {\n      handler: function handler(val) {\n        this.setState(function (previousState) {\n          var newPagination = _extends({}, defaultPagination, previousState.sPagination, val);\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return { sPagination: val !== false ? newPagination : emptyObject };\n        });\n      },\n\n      deep: true\n    },\n    rowSelection: {\n      handler: function handler(val, oldVal) {\n        if (val && 'selectedRowKeys' in val) {\n          this.store.selectedRowKeys = val.selectedRowKeys || [];\n          var rowSelection = this.rowSelection;\n\n          if (rowSelection && val.getCheckboxProps !== rowSelection.getCheckboxProps) {\n            this.CheckboxPropsCache = {};\n          }\n        } else if (oldVal && !val) {\n          this.store.selectedRowKeys = [];\n        }\n      },\n\n      deep: true\n    },\n\n    dataSource: function dataSource() {\n      this.store.selectionDirty = false;\n      this.CheckboxPropsCache = {};\n    },\n    columns: function columns(val) {\n      var filteredValueColumns = getFilteredValueColumns({ columns: val }, val);\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns({ columns: val }, val);\n        var newFilters = _extends({}, this.sFilters);\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n        if (isFiltersChanged({ filters: this.sFilters }, newFilters)) {\n          this.setState({ sFilters: newFilters });\n        }\n      }\n      this.$forceUpdate();\n    },\n\n    components: {\n      handler: function handler(val, oldVal) {\n        if (!isTheSameComponents(val, oldVal)) {\n          var components = createComponents(val);\n          this.setState({ sComponents: components });\n        }\n      },\n\n      deep: true\n    }\n  },\n  updated: function updated() {\n    var columns = this.columns,\n        sortColumn = this.sSortColumn,\n        sortOrder = this.sSortOrder;\n\n    if (this.getSortOrderColumns(columns).length > 0) {\n      var sortState = this.getSortStateFromColumns(columns);\n      if (!isSameColumn(sortState.sSortColumn, sortColumn) || sortState.sSortOrder !== sortOrder) {\n        this.setState(sortState);\n      }\n    }\n  },\n\n  methods: {\n    getCheckboxPropsByItem: function getCheckboxPropsByItem(item, index) {\n      var rowSelection = getRowSelection(this.$props);\n      if (!rowSelection.getCheckboxProps) {\n        return { props: {} };\n      }\n      var key = this.getRecordKey(item, index);\n      // Cache checkboxProps\n      if (!this.CheckboxPropsCache[key]) {\n        this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n      }\n      this.CheckboxPropsCache[key].props = this.CheckboxPropsCache[key].props || {};\n      return this.CheckboxPropsCache[key];\n    },\n    getDefaultSelection: function getDefaultSelection() {\n      var _this = this;\n\n      var rowSelection = getRowSelection(this.$props);\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this.getCheckboxPropsByItem(item, rowIndex).props.defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this.getRecordKey(record, rowIndex);\n      });\n    },\n    getDefaultPagination: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current = void 0;\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n      var pageSize = void 0;\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    },\n    getSortOrderColumns: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    },\n    getDefaultFilters: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns({ columns: this.columns }, columns);\n\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n\n      return _extends({}, defaultFilters, definedFilters);\n    },\n    getDefaultSortOrder: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sSortColumn: defaultSortedColumn,\n          sSortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    },\n    getSortStateFromColumns: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sSortColumn: sortedColumn,\n          sSortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sSortColumn: null,\n        sSortOrder: null\n      };\n    },\n    getMaxCurrent: function getMaxCurrent(total) {\n      var _sPagination = this.sPagination,\n          current = _sPagination.current,\n          pageSize = _sPagination.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n      return current;\n    },\n    getRecordKey: function getRecordKey(record, index) {\n      var rowKey = this.rowKey;\n\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ');\n      return recordKey === undefined ? index : recordKey;\n    },\n    getSorterFn: function getSorterFn(state) {\n      var _ref = state || this.$data,\n          sortOrder = _ref.sSortOrder,\n          sortColumn = _ref.sSortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n        return 0;\n      };\n    },\n    getCurrentPageData: function getCurrentPageData() {\n      var data = this.getLocalData();\n      this.filterDataCnt = data.length;\n      var current = void 0;\n      var pageSize = void 0;\n      var sPagination = this.sPagination;\n      // 如果没有分页的话，默认全部展示\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = sPagination.pageSize;\n        current = this.getMaxCurrent(sPagination.total || data.length);\n      }\n\n      // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n      return data;\n    },\n    getFlatData: function getFlatData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    },\n    getFlatCurrentPageData: function getFlatCurrentPageData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    },\n    getLocalData: function getLocalData(state) {\n      var _this2 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var currentState = state || this.$data;\n      var filters = currentState.sFilters;\n      var dataSource = this.$props.dataSource;\n\n      var data = dataSource || [];\n      // 优化本地排序\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n      if (sorterFn) {\n        // 使用新数组，避免改变原数组导致无限循环更新\n        // https://github.com/vueComponent/ant-design-vue/issues/2270\n        data = this.recursiveSort([].concat(_toConsumableArray(data)), sorterFn);\n      }\n      // 筛选\n      if (filter && filters) {\n        Object.keys(filters).forEach(function (columnKey) {\n          var col = _this2.findColumn(columnKey);\n          if (!col) {\n            return;\n          }\n          var values = filters[columnKey] || [];\n          if (values.length === 0) {\n            return;\n          }\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n      return data;\n    },\n    onRow: function onRow(prefixCls, record, index) {\n      var customRow = this.customRow;\n\n      var custom = customRow ? customRow(record, index) : {};\n      return mergeProps(custom, {\n        props: {\n          prefixCls: prefixCls,\n          store: this.store,\n          rowKey: this.getRecordKey(record, index)\n        }\n      });\n    },\n    setSelectedRowKeys: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n\n      var rowSelection = getRowSelection(this.$props);\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.selectedRowKeys = selectedRowKeys;\n      }\n      var data = this.getFlatData();\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    },\n    generatePopupContainerFunc: function generatePopupContainerFunc(getPopupContainer) {\n      var scroll = this.$props.scroll;\n\n      var table = this.$refs.vcTable;\n      if (getPopupContainer) {\n        return getPopupContainer;\n      }\n      // Use undefined to let rc component use default logic.\n      return scroll && table ? function () {\n        return table.getTableNode();\n      } : undefined;\n    },\n    scrollToFirstRow: function scrollToFirstRow() {\n      var _this4 = this;\n\n      var scroll = this.$props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this4.$refs.vcTable.getBodyTable();\n          }\n        });\n      }\n    },\n    isSameColumn: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    },\n    handleFilter: function handleFilter(column, nextFilters) {\n      var _this5 = this;\n\n      var props = this.$props;\n      var pagination = _extends({}, this.sPagination);\n      var filters = _extends({}, this.sFilters, _defineProperty({}, getColumnKey(column), nextFilters));\n      // Remove filters not in current columns\n      var currentColumnKeys = [];\n      treeMap(this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        sPagination: pagination,\n        sFilters: {}\n      };\n      var filtersToSetState = _extends({}, filters);\n      // Remove filters which is controlled\n      getFilteredValueColumns({ columns: props.columns }).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.sFilters = filtersToSetState;\n      }\n\n      // Controlled current prop will not respond user interaction\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, function () {\n        _this5.scrollToFirstRow();\n        _this5.store.selectionDirty = false;\n        _this5.$emit.apply(_this5, ['change'].concat(_toConsumableArray(_this5.prepareParamsArguments(_extends({}, _this5.$data, {\n          sSelectionDirty: false,\n          sFilters: filters,\n          sPagination: pagination\n        })))));\n      });\n    },\n    handleSelect: function handleSelect(record, rowIndex, e) {\n      var _this6 = this;\n\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var key = this.getRecordKey(record, rowIndex);\n      var pivot = this.$data.pivot;\n\n      var rows = this.getFlatCurrentPageData();\n      var realIndex = rowIndex;\n      if (this.$props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this6.getRecordKey(row, rowIndex) === key;\n        });\n      }\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n          var rowKey = _this6.getRecordKey(row, i);\n          var checkboxProps = _this6.getCheckboxPropsByItem(row, i);\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        this.setState({ pivot: realIndex });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n        this.setState({ pivot: realIndex });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    },\n    handleRadioSelect: function handleRadioSelect(record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      this.store.selectionDirty = true;\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    },\n    handleSelectRow: function handleSelectRow(selectionKey, index, onSelectFunc) {\n      var _this7 = this;\n\n      var data = this.getFlatCurrentPageData();\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this7.getCheckboxPropsByItem(item, i).props.disabled;\n      }).map(function (item, i) {\n        return _this7.getRecordKey(item, i);\n      });\n\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked = void 0;\n      // handle default selection\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n        default:\n          break;\n      }\n\n      this.store.selectionDirty = true;\n      // when select custom selection, callback selections[n].onSelect\n      var rowSelection = this.rowSelection;\n\n      var customSelectionStartIndex = 2;\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    },\n    handlePageChange: function handlePageChange(current) {\n      var props = this.$props;\n      var pagination = _extends({}, this.sPagination);\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(_toConsumableArray(otherArguments)));\n\n      var newState = {\n        sPagination: pagination\n      };\n      // Controlled current prop will not respond user interaction\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n      this.setState(newState, this.scrollToFirstRow);\n\n      this.store.selectionDirty = false;\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sSelectionDirty: false,\n        sPagination: pagination\n      })))));\n    },\n    handleShowSizeChange: function handleShowSizeChange(current, pageSize) {\n      var pagination = this.sPagination;\n      pagination.onShowSizeChange(current, pageSize);\n      var nextPagination = _extends({}, pagination, {\n        pageSize: pageSize,\n        current: current\n      });\n      this.setState({ sPagination: nextPagination }, this.scrollToFirstRow);\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sPagination: nextPagination\n      })))));\n    },\n    toggleSortOrder: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.sortDirections;\n      var sortOrder = this.sSortOrder,\n          sortColumn = this.sSortColumn;\n      // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder = void 0;\n      // 切换另一列时，丢弃 sortOrder 的状态\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n      var newState = {\n        sSortOrder: newSortOrder,\n        sSortColumn: newSortOrder ? column : null\n      };\n\n      // Controlled\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, newState), column))));\n    },\n    hasPagination: function hasPagination(props) {\n      return (props || this.$props).pagination !== false;\n    },\n    isSortColumn: function isSortColumn(column) {\n      var sortColumn = this.sSortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    },\n\n\n    // Get pagination, filters, sorter\n    prepareParamsArguments: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.sPagination);\n      // remove useless handle function in Table.onChange\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.sFilters;\n      var sorter = {};\n      var currentColumn = column;\n      if (state.sSortColumn && state.sSortOrder) {\n        currentColumn = state.sSortColumn;\n        sorter.column = state.sSortColumn;\n        sorter.order = state.sSortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n\n      return [pagination, filters, sorter, extra];\n    },\n    findColumn: function findColumn(myKey) {\n      var column = void 0;\n      treeMap(this.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    },\n    recursiveSort: function recursiveSort(data, sorterFn) {\n      var _this8 = this;\n\n      var _childrenColumnName = this.childrenColumnName,\n          childrenColumnName = _childrenColumnName === undefined ? 'children' : _childrenColumnName;\n\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this8.recursiveSort([].concat(_toConsumableArray(item[childrenColumnName])), sorterFn))) : item;\n      });\n    },\n    renderExpandIcon: function renderExpandIcon(prefixCls) {\n      var h = this.$createElement;\n\n      return function (_ref2) {\n        var expandable = _ref2.expandable,\n            expanded = _ref2.expanded,\n            needIndentSpaced = _ref2.needIndentSpaced,\n            record = _ref2.record,\n            onExpand = _ref2.onExpand;\n\n        if (expandable) {\n          return h(\n            LocaleReceiver,\n            {\n              attrs: { componentName: 'Table', defaultLocale: defaultLocale.Table }\n            },\n            [function (locale) {\n              var _classNames;\n\n              return h(TransButton, {\n                'class': classNames(prefixCls + '-row-expand-icon', (_classNames = {}, _defineProperty(_classNames, prefixCls + '-row-collapsed', !expanded), _defineProperty(_classNames, prefixCls + '-row-expanded', expanded), _classNames)),\n                on: {\n                  'click': function click(event) {\n                    onExpand(record, event);\n                  }\n                },\n                attrs: {\n                  'aria-label': expanded ? locale.collapse : locale.expand,\n                  noStyle: true\n                }\n              });\n            }]\n          );\n        }\n\n        if (needIndentSpaced) {\n          return h('span', { 'class': prefixCls + '-row-expand-icon ' + prefixCls + '-row-spaced' });\n        }\n\n        return null;\n      };\n    },\n    renderPagination: function renderPagination(prefixCls, paginationPosition) {\n      var h = this.$createElement;\n\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n      var size = 'default';\n      var pagination = this.sPagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.size === 'middle' || this.size === 'small') {\n        size = 'small';\n      }\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.filterDataCnt;\n\n      var cls = pagination['class'],\n          style = pagination.style,\n          onChange = pagination.onChange,\n          onShowSizeChange = pagination.onShowSizeChange,\n          restProps = _objectWithoutProperties(pagination, ['class', 'style', 'onChange', 'onShowSizeChange']); // eslint-disable-line\n\n\n      var paginationProps = mergeProps({\n        key: 'pagination-' + paginationPosition,\n        'class': classNames(cls, prefixCls + '-pagination'),\n        props: _extends({}, restProps, {\n          total: total,\n          size: size,\n          current: this.getMaxCurrent(total)\n        }),\n        style: style,\n        on: {\n          change: this.handlePageChange,\n          showSizeChange: this.handleShowSizeChange\n        }\n      });\n      return total > 0 && (position === paginationPosition || position === 'both') ? h(Pagination, paginationProps) : null;\n    },\n    renderSelectionBox: function renderSelectionBox(type) {\n      var _this9 = this;\n\n      var h = this.$createElement;\n\n      return function (_, record, index) {\n        var rowKey = _this9.getRecordKey(record, index); // 从 1 开始\n        var props = _this9.getCheckboxPropsByItem(record, index);\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this9.handleRadioSelect(record, index, e) : _this9.handleSelect(record, index, e);\n        };\n        var selectionBoxProps = mergeProps({\n          props: {\n            type: type,\n            store: _this9.store,\n            rowIndex: rowKey,\n            defaultSelection: _this9.getDefaultSelection()\n          },\n          on: {\n            change: handleChange\n          }\n        }, props);\n\n        return h(\n          'span',\n          {\n            on: {\n              'click': stopPropagation\n            }\n          },\n          [h(SelectionBox, selectionBoxProps)]\n        );\n      };\n    },\n    renderRowSelection: function renderRowSelection(_ref3) {\n      var _this10 = this;\n\n      var prefixCls = _ref3.prefixCls,\n          locale = _ref3.locale,\n          getPopupContainer = _ref3.getPopupContainer;\n      var h = this.$createElement;\n      var rowSelection = this.rowSelection;\n\n      var columns = this.columns.concat();\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this10.getCheckboxPropsByItem(item, index).props.disabled;\n          }\n          return true;\n        });\n        var selectionColumnClass = classNames(prefixCls + '-selection-column', _defineProperty({}, prefixCls + '-selection-column-custom', rowSelection.selections));\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          customRender: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          'class': prefixCls + '-selection-col'\n        });\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this10.getCheckboxPropsByItem(item, index).props.disabled;\n          });\n          selectionColumn.title = selectionColumn.title || h(SelectionCheckboxAll, {\n            attrs: {\n              store: this.store,\n              locale: locale,\n              data: data,\n              getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n              getRecordKey: this.getRecordKey,\n              disabled: checkboxAllDisabled,\n              prefixCls: prefixCls,\n\n              selections: rowSelection.selections,\n              hideDefaultSelections: rowSelection.hideDefaultSelections,\n              getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n            },\n            on: {\n              'select': this.handleSelectRow\n            }\n          });\n        }\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n      return columns;\n    },\n    renderColumnsDropdown: function renderColumnsDropdown(_ref4) {\n      var _this11 = this;\n\n      var prefixCls = _ref4.prefixCls,\n          dropdownPrefixCls = _ref4.dropdownPrefixCls,\n          columns = _ref4.columns,\n          locale = _ref4.locale,\n          getPopupContainer = _ref4.getPopupContainer;\n      var h = this.$createElement;\n      var sortOrder = this.sSortOrder,\n          filters = this.sFilters;\n\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown = void 0;\n        var sortButton = void 0;\n        var customHeaderCell = column.customHeaderCell;\n        var isSortColumn = _this11.isSortColumn(column);\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = h(FilterDropdown, {\n            attrs: {\n              _propsSymbol: Symbol(),\n              locale: locale,\n              column: column,\n              selectedKeys: colFilters,\n              confirmFilter: _this11.handleFilter,\n              prefixCls: prefixCls + '-filter',\n              dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n              getPopupContainer: _this11.generatePopupContainerFunc(getPopupContainer)\n            },\n            key: 'filter-dropdown'\n          });\n        }\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this11.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-up ' + (isAscend ? 'on' : 'off'),\n            attrs: { type: 'caret-up',\n              theme: 'filled'\n            },\n            key: 'caret-up'\n          });\n\n          var descend = sortDirections.indexOf('descend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-down ' + (isDescend ? 'on' : 'off'),\n            attrs: { type: 'caret-down',\n              theme: 'filled'\n            },\n            key: 'caret-down'\n          });\n\n          sortButton = h(\n            'div',\n            {\n              attrs: {\n                title: locale.sortTitle\n              },\n              'class': classNames(prefixCls + '-column-sorter-inner', ascend && descend && prefixCls + '-column-sorter-inner-full'),\n              key: 'sorter'\n            },\n            [ascend, descend]\n          );\n          customHeaderCell = function customHeaderCell(col) {\n            var colProps = {};\n            // Get original first\n            if (column.customHeaderCell) {\n              colProps = _extends({}, column.customHeaderCell(col));\n            }\n            colProps.on = colProps.on || {};\n            // Add sorter logic\n            var onHeaderCellClick = colProps.on.click;\n            colProps.on.click = function () {\n              _this11.toggleSortOrder(column);\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(undefined, arguments);\n              }\n            };\n            return colProps;\n          };\n        }\n        return _extends({}, column, {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, prefixCls + '-column-has-actions', sortButton || filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-filters', filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-sorters', sortButton), _defineProperty(_classNames3, prefixCls + '-column-sort', isSortColumn && sortOrder), _classNames3)),\n          title: [h(\n            'span',\n            { key: 'title', 'class': prefixCls + '-header-column' },\n            [h(\n              'div',\n              { 'class': sortButton ? prefixCls + '-column-sorters' : undefined },\n              [h(\n                'span',\n                { 'class': prefixCls + '-column-title' },\n                [_this11.renderColumnTitle(column.title)]\n              ), h(\n                'span',\n                { 'class': prefixCls + '-column-sorter' },\n                [sortButton]\n              )]\n            )]\n          ), filterDropdown],\n          customHeaderCell: customHeaderCell\n        });\n      });\n    },\n    renderColumnTitle: function renderColumnTitle(title) {\n      var _$data = this.$data,\n          filters = _$data.sFilters,\n          sortOrder = _$data.sSortOrder,\n          sortColumn = _$data.sSortColumn;\n      // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n      return title;\n    },\n    renderTable: function renderTable(_ref5) {\n      var _classNames4,\n          _this12 = this;\n\n      var prefixCls = _ref5.prefixCls,\n          renderEmpty = _ref5.renderEmpty,\n          dropdownPrefixCls = _ref5.dropdownPrefixCls,\n          contextLocale = _ref5.contextLocale,\n          contextGetPopupContainer = _ref5.getPopupContainer,\n          transformCellText = _ref5.transformCellText;\n      var h = this.$createElement;\n\n      var _getOptionProps = getOptionProps(this),\n          showHeader = _getOptionProps.showHeader,\n          locale = _getOptionProps.locale,\n          getPopupContainer = _getOptionProps.getPopupContainer,\n          expandIcon = _getOptionProps.expandIcon,\n          restProps = _objectWithoutProperties(_getOptionProps, ['showHeader', 'locale', 'getPopupContainer', 'expandIcon']);\n\n      var data = this.getCurrentPageData();\n      var expandIconAsCell = this.expandedRowRender && this.expandIconAsCell !== false;\n\n      // use props.getPopupContainer first\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer;\n\n      // Merge too locales\n      var mergedLocale = _extends({}, contextLocale, locale);\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty(h, 'Table');\n      }\n\n      var classString = classNames((_classNames4 = {}, _defineProperty(_classNames4, prefixCls + '-' + this.size, true), _defineProperty(_classNames4, prefixCls + '-bordered', this.bordered), _defineProperty(_classNames4, prefixCls + '-empty', !data.length), _defineProperty(_classNames4, prefixCls + '-without-column-header', !showHeader), _classNames4));\n\n      var columnsWithRowSelection = this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n      var columns = this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n      var vcTableProps = {\n        key: 'table',\n        props: _extends({\n          expandIcon: expandIcon || this.renderExpandIcon(prefixCls)\n        }, restProps, {\n          customRow: function customRow(record, index) {\n            return _this12.onRow(prefixCls, record, index);\n          },\n          components: this.sComponents,\n          prefixCls: prefixCls,\n          data: data,\n          columns: columns,\n          showHeader: showHeader,\n          expandIconColumnIndex: expandIconColumnIndex,\n          expandIconAsCell: expandIconAsCell,\n          emptyText: mergedLocale.emptyText,\n          transformCellText: transformCellText\n        }),\n        on: getListeners(this),\n        'class': classString,\n        ref: 'vcTable'\n      };\n      return h(VcTable, vcTableProps);\n    }\n  },\n\n  render: function render() {\n    var _this13 = this;\n\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        customizeDropdownPrefixCls = this.dropdownPrefixCls,\n        customizeTransformCellText = this.transformCellText;\n\n    var data = this.getCurrentPageData();\n    var _configProvider = this.configProvider,\n        getContextPopupContainer = _configProvider.getPopupContainer,\n        tct = _configProvider.transformCellText;\n\n    var getPopupContainer = this.getPopupContainer || getContextPopupContainer;\n    var transformCellText = customizeTransformCellText || tct;\n    var loading = this.loading;\n    if (typeof loading === 'boolean') {\n      loading = {\n        props: {\n          spinning: loading\n        }\n      };\n    } else {\n      loading = {\n        props: _extends({}, loading)\n      };\n    }\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var renderEmpty = this.configProvider.renderEmpty;\n\n    var prefixCls = getPrefixCls('table', customizePrefixCls);\n    var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n\n    var table = h(LocaleReceiver, {\n      attrs: {\n        componentName: 'Table',\n        defaultLocale: defaultLocale.Table,\n        children: function children(locale) {\n          return _this13.renderTable({\n            prefixCls: prefixCls,\n            renderEmpty: renderEmpty,\n            dropdownPrefixCls: dropdownPrefixCls,\n            contextLocale: locale,\n            getPopupContainer: getPopupContainer,\n            transformCellText: transformCellText\n          });\n        }\n      }\n    });\n\n    // if there is no pagination or no data,\n    // the height of spin should decrease by half of pagination\n    var paginationPatchClass = this.hasPagination() && data && data.length !== 0 ? prefixCls + '-with-pagination' : prefixCls + '-without-pagination';\n    var spinProps = _extends({}, loading, {\n      'class': loading.props && loading.props.spinning ? paginationPatchClass + ' ' + prefixCls + '-spin-holder' : ''\n    });\n    return h(\n      'div',\n      { 'class': classNames(prefixCls + '-wrapper') },\n      [h(\n        Spin,\n        spinProps,\n        [this.renderPagination(prefixCls, 'top'), table, this.renderPagination(prefixCls, 'bottom')]\n      )]\n    );\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}