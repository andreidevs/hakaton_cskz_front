{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport { initDefaultProps } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport warning from '../../_util/warning';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { ITouchProps } from './PropTypes';\nexport default {\n  name: 'TouchFeedback',\n  mixins: [BaseMixin],\n  props: initDefaultProps(ITouchProps, {\n    disabled: false\n  }),\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.disabled && _this.active) {\n        _this.setState({\n          active: false\n        });\n      }\n    });\n  },\n  methods: {\n    triggerEvent: function triggerEvent(type, isActive, ev) {\n      // 暂时仅有input-number用到，事件直接到挂载到Touchable上，不需要像antd那样从子组件触发\n      this.$emit(type, ev);\n\n      if (isActive !== this.active) {\n        this.setState({\n          active: isActive\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      this.triggerEvent('touchstart', true, e);\n    },\n    onTouchMove: function onTouchMove(e) {\n      this.triggerEvent('touchmove', false, e);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      this.triggerEvent('touchend', false, e);\n    },\n    onTouchCancel: function onTouchCancel(e) {\n      this.triggerEvent('touchcancel', false, e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      // pc simulate mobile\n      this.triggerEvent('mousedown', true, e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      this.triggerEvent('mouseup', false, e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      this.triggerEvent('mouseleave', false, e);\n    }\n  },\n  render: function render() {\n    var _$props = this.$props,\n        disabled = _$props.disabled,\n        _$props$activeClassNa = _$props.activeClassName,\n        activeClassName = _$props$activeClassNa === undefined ? '' : _$props$activeClassNa,\n        _$props$activeStyle = _$props.activeStyle,\n        activeStyle = _$props$activeStyle === undefined ? {} : _$props$activeStyle;\n    var child = this.$slots['default'];\n\n    if (child.length !== 1) {\n      warning(false, 'm-feedback组件只能包含一个子元素');\n      return null;\n    }\n\n    var childProps = {\n      on: disabled ? {} : {\n        touchstart: this.onTouchStart,\n        touchmove: this.onTouchMove,\n        touchend: this.onTouchEnd,\n        touchcancel: this.onTouchCancel,\n        mousedown: this.onMouseDown,\n        mouseup: this.onMouseUp,\n        mouseleave: this.onMouseLeave\n      }\n    };\n\n    if (!disabled && this.active) {\n      childProps = _extends({}, childProps, {\n        style: activeStyle,\n        'class': activeClassName\n      });\n    }\n\n    return cloneElement(child, childProps);\n  }\n};","map":{"version":3,"names":["_extends","initDefaultProps","cloneElement","warning","BaseMixin","ITouchProps","name","mixins","props","disabled","data","active","mounted","_this","$nextTick","setState","methods","triggerEvent","type","isActive","ev","$emit","onTouchStart","e","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","render","_$props","$props","_$props$activeClassNa","activeClassName","undefined","_$props$activeStyle","activeStyle","child","$slots","length","childProps","on","touchstart","touchmove","touchend","touchcancel","mousedown","mouseup","mouseleave","style"],"sources":["/Users/andreidev/domains/hakaton_cskz_front/node_modules/ant-design-vue/es/vc-m-feedback/src/TouchFeedback.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport { initDefaultProps } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport warning from '../../_util/warning';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { ITouchProps } from './PropTypes';\n\nexport default {\n  name: 'TouchFeedback',\n  mixins: [BaseMixin],\n  props: initDefaultProps(ITouchProps, {\n    disabled: false\n  }),\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.disabled && _this.active) {\n        _this.setState({\n          active: false\n        });\n      }\n    });\n  },\n\n  methods: {\n    triggerEvent: function triggerEvent(type, isActive, ev) {\n      // 暂时仅有input-number用到，事件直接到挂载到Touchable上，不需要像antd那样从子组件触发\n      this.$emit(type, ev);\n      if (isActive !== this.active) {\n        this.setState({\n          active: isActive\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      this.triggerEvent('touchstart', true, e);\n    },\n    onTouchMove: function onTouchMove(e) {\n      this.triggerEvent('touchmove', false, e);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      this.triggerEvent('touchend', false, e);\n    },\n    onTouchCancel: function onTouchCancel(e) {\n      this.triggerEvent('touchcancel', false, e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      // pc simulate mobile\n      this.triggerEvent('mousedown', true, e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      this.triggerEvent('mouseup', false, e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      this.triggerEvent('mouseleave', false, e);\n    }\n  },\n  render: function render() {\n    var _$props = this.$props,\n        disabled = _$props.disabled,\n        _$props$activeClassNa = _$props.activeClassName,\n        activeClassName = _$props$activeClassNa === undefined ? '' : _$props$activeClassNa,\n        _$props$activeStyle = _$props.activeStyle,\n        activeStyle = _$props$activeStyle === undefined ? {} : _$props$activeStyle;\n\n\n    var child = this.$slots['default'];\n    if (child.length !== 1) {\n      warning(false, 'm-feedback组件只能包含一个子元素');\n      return null;\n    }\n    var childProps = {\n      on: disabled ? {} : {\n        touchstart: this.onTouchStart,\n        touchmove: this.onTouchMove,\n        touchend: this.onTouchEnd,\n        touchcancel: this.onTouchCancel,\n        mousedown: this.onMouseDown,\n        mouseup: this.onMouseUp,\n        mouseleave: this.onMouseLeave\n      }\n    };\n\n    if (!disabled && this.active) {\n      childProps = _extends({}, childProps, {\n        style: activeStyle,\n        'class': activeClassName\n      });\n    }\n\n    return cloneElement(child, childProps);\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}